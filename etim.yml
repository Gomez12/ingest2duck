version: 1
run:
  source:
    url: https://cdn.etim-international.com/exports/ETIMIXF3_1_20251231.xml
  destination:
    type: duckdb
    ducklake: {}
    dataset: etim
    duckdb_file: ./etimixf.duckdb
  options:
    infer_if_missing: true
outputs:
  raw:
    enabled: true
    table: raw_ingest
  normalized:
    enabled: true
    tables:
    - Classes
    - Classes_Features
    - Classes_Translations
    - FeatureGroups
    - FeatureGroups_Translations
    - Features
    - Features_Translations
    - Groups
    - Groups_Translations
    - Header
    - Meta_Classes
    - Meta_FeatureGroups
    - Meta_Features
    - Meta_Groups
    - Meta_Units
    - Meta_Values
    - Translations
    - Units
    - Values
    - Values_Translations
collections: {}
xml_infer:
  root: IXF
  collections:
    Units:
      enabled: true
      path: /IXF/Units/Unit
      pk:
        prefer:
        - Code
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - '@key'
        - key
      parent: null
      parent_fk: null
    Features:
      enabled: true
      path: /IXF/Features/Feature
      pk:
        prefer:
        - Code
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - '@key'
        - key
      parent: null
      parent_fk: null
    FeatureGroups:
      enabled: true
      path: /IXF/FeatureGroups/FeatureGroup
      pk:
        prefer:
        - Code
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - '@key'
        - key
      parent: null
      parent_fk: null
    Values:
      enabled: true
      path: /IXF/Values/Value
      pk:
        prefer:
        - Code
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - '@key'
        - key
      parent: null
      parent_fk: null
    Groups:
      enabled: true
      path: /IXF/Groups/Group
      pk:
        prefer:
        - Code
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - '@key'
        - key
      parent: null
      parent_fk: null
    Classes:
      enabled: true
      path: /IXF/Classes/Class
      pk:
        prefer:
        - Code
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - '@key'
        - key
        - '@changeCode'
      parent: null
      parent_fk: null
    Translations:
      enabled: true
      path: /IXF/Units/Unit/Translations/Translation
      pk:
        prefer:
        - '@language'
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: Units
      parent_fk: _parent_pk
    Features_Translations:
      enabled: true
      path: /IXF/Features/Feature/Translations/Translation
      pk:
        prefer:
        - '@language'
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: Features
      parent_fk: _parent_pk
    FeatureGroups_Translations:
      enabled: true
      path: /IXF/FeatureGroups/FeatureGroup/Translations/Translation
      pk:
        prefer:
        - '@language'
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: FeatureGroups
      parent_fk: _parent_pk
    Values_Translations:
      enabled: true
      path: /IXF/Values/Value/Translations/Translation
      pk:
        prefer:
        - '@language'
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: Values
      parent_fk: _parent_pk
    Groups_Translations:
      enabled: true
      path: /IXF/Groups/Group/Translations/Translation
      pk:
        prefer:
        - '@language'
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: Groups
      parent_fk: _parent_pk
    Classes_Translations:
      enabled: true
      path: /IXF/Classes/Class/Translations/Translation
      pk:
        prefer:
        - '@language'
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: Classes
      parent_fk: _parent_pk
    Classes_Features:
      enabled: true
      path: /IXF/Classes/Class/Features/Feature
      pk:
        prefer:
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
        - '@changeCode'
      parent: Classes
      parent_fk: _parent_pk
    Header:
      enabled: true
      path: /IXF/Header
      pk:
        prefer:
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: null
      parent_fk: null
    Meta_Units:
      enabled: true
      path: /IXF/Units
      pk:
        prefer:
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: null
      parent_fk: null
    Meta_Features:
      enabled: true
      path: /IXF/Features
      pk:
        prefer:
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: null
      parent_fk: null
    Meta_FeatureGroups:
      enabled: true
      path: /IXF/FeatureGroups
      pk:
        prefer:
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: null
      parent_fk: null
    Meta_Values:
      enabled: true
      path: /IXF/Values
      pk:
        prefer:
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: null
      parent_fk: null
    Meta_Groups:
      enabled: true
      path: /IXF/Groups
      pk:
        prefer:
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: null
      parent_fk: null
    Meta_Classes:
      enabled: true
      path: /IXF/Classes
      pk:
        prefer:
        - '@id'
        - id
        - '@ID'
        - ID
        - '@code'
        - code
        - '@Code'
        - Code
        - '@key'
        - key
      parent: null
      parent_fk: null
